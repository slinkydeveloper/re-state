{
  "id": "snapshot_1767696773787_jbfr836ev",
  "approvalId": "approval_1767696773784_a61ok9tea",
  "approvalTitle": "Tasks Document for Real Estate Tracker",
  "version": 1,
  "timestamp": "2026-01-06T10:52:53.787Z",
  "trigger": "initial",
  "status": "pending",
  "content": "# Tasks Document\n\n## Phase 1: Data Models and Type Definitions\n\n- [ ] 1.1. Create shared type definitions\n  - File: `restate/services/types.ts`\n  - Define Zod schemas for PropertyAd, QuestionAnswer, ResearchState, AdStatus, RenovationStatus\n  - Export TypeScript types inferred from schemas\n  - Purpose: Establish type safety and validation across the application\n  - _Leverage: Existing Zod usage patterns from restate/services/agent.ts_\n  - _Requirements: All requirements (data foundation)_\n  - _Prompt: Role: TypeScript Developer specializing in type systems and Zod schemas | Task: Implement the task for spec real-estate-tracker, first run spec-workflow-guide to get the workflow guide then implement the task: Create comprehensive Zod schemas and TypeScript types for PropertyAd (with all fields: id, url, source, title, price, location, size, rooms, bathrooms, description, descriptionSummary, renovationStatus, features, status, notes, adAge, scrapedAt), QuestionAnswer, ResearchState, AdStatus enum, and RenovationStatus enum in restate/services/types.ts | Restrictions: Use Zod for runtime validation, follow existing Zod patterns from agent.ts, ensure all optional fields are properly marked, do not create circular dependencies | Success: All schemas compile without errors, types are properly exported, schemas validate expected data structures, can be imported and used across the codebase | Instructions: Before starting, mark this task as in-progress in tasks.md by changing [ ] to [-]. After completion, use log-implementation tool with detailed artifacts (all schemas and types created), then mark as complete [x] in tasks.md_\n\n## Phase 2: Web Scraping Utilities\n\n- [ ] 2.1. Create Idealista scraper utility\n  - File: `restate/services/utils/idealista-scraper.ts`\n  - Implement `scrapeIdealistaAd(url: string): Promise<PropertyAd>`\n  - Use cheerio for HTML parsing, turndown for HTML-to-Markdown\n  - Extract: title, price, location, size, rooms, bathrooms, description, features, age\n  - Use AI (OpenAI via Vercel AI SDK) to extract: descriptionSummary, renovationStatus\n  - Purpose: Parse idealista.it property listings into structured data\n  - _Leverage: restate/services/agent.ts readWebPage tool pattern (cheerio + turndown), existing OpenAI client setup_\n  - _Requirements: 2 (Property Scraping)_\n  - _Prompt: Role: Backend Developer with expertise in web scraping and HTML parsing | Task: Implement the task for spec real-estate-tracker, first run spec-workflow-guide to get the workflow guide then implement the task: Create scrapeIdealistaAd function that fetches idealista.it pages, parses HTML with cheerio (following the readWebPage pattern from agent.ts), removes navigation/ads/scripts, extracts property details, and uses OpenAI to generate descriptionSummary (without real estate agent fluff) and determine renovationStatus from description text | Restrictions: Must handle network failures gracefully (let caller retry), validate URL is idealista.it domain, use existing OpenAI client initialization pattern, remove clutter before parsing (nav, ads, scripts) | Success: Function successfully scrapes test idealista.it URLs, returns PropertyAd with all fields populated, handles missing optional fields, AI correctly summarizes descriptions and identifies renovation status | Instructions: Before starting, mark this task as in-progress in tasks.md. After completion, use log-implementation tool with artifacts (functions: scrapeIdealistaAd with signature and location), then mark as complete in tasks.md_\n\n- [ ] 2.2. Create Immobiliare scraper utility\n  - File: `restate/services/utils/immobiliare-scraper.ts`\n  - Implement `scrapeImmobiliareAd(url: string): Promise<PropertyAd>`\n  - Use cheerio for HTML parsing, turndown for HTML-to-Markdown\n  - Extract: title, price, location, size, rooms, bathrooms, description, features, age\n  - Use AI (OpenAI via Vercel AI SDK) to extract: descriptionSummary, renovationStatus\n  - Purpose: Parse immobiliare.it property listings into structured data\n  - _Leverage: restate/services/utils/idealista-scraper.ts (similar pattern), restate/services/agent.ts readWebPage pattern_\n  - _Requirements: 2 (Property Scraping)_\n  - _Prompt: Role: Backend Developer with expertise in web scraping and HTML parsing | Task: Implement the task for spec real-estate-tracker, first run spec-workflow-guide to get the workflow guide then implement the task: Create scrapeImmobiliareAd function following the same pattern as idealista-scraper.ts but adapted for immobiliare.it HTML structure, using cheerio for parsing, turndown for conversion, and OpenAI for descriptionSummary and renovationStatus extraction | Restrictions: Must handle network failures gracefully, validate URL is immobiliare.it domain, reuse OpenAI client pattern from idealista scraper, avoid code duplication where possible | Success: Function successfully scrapes test immobiliare.it URLs, returns PropertyAd with all fields populated, handles missing optional fields, AI correctly processes descriptions | Instructions: Before starting, mark this task as in-progress in tasks.md. After completion, use log-implementation tool with artifacts (functions: scrapeImmobiliareAd), then mark as complete in tasks.md_\n\n## Phase 3: Restate Virtual Object Implementation\n\n- [ ] 3.1. Create ResearchTracker Virtual Object\n  - File: `restate/services/research-tracker.ts`\n  - Implement Virtual Object with handlers: createResearch, getCriteria, addAd, getAds, updateAdStatus, updateAdNotes, askQuestion, getQuestions\n  - Use `ctx.get()` and `ctx.set()` for state management\n  - Use `ctx.run()` for scraping operations\n  - Use `durableCalls()` middleware for AI question answering\n  - Generate UUIDs for ads and questions using `ctx.rand.uuidv4()`\n  - Set default status \"to reach out\" for new ads\n  - Purpose: Manage research state with durable execution\n  - _Leverage: restate/services/agent.ts for Virtual Object patterns, durableCalls middleware usage, ctx.run() examples; restate/services/utils/idealista-scraper.ts and immobiliare-scraper.ts; restate/services/types.ts for schemas_\n  - _Requirements: 1, 2, 3, 4, 5, 6, 7 (core backend logic)_\n  - _Prompt: Role: Restate Developer specializing in Virtual Objects and durable execution | Task: Implement the task for spec real-estate-tracker, first run spec-workflow-guide to get the workflow guide then implement the task: Create ResearchTracker Virtual Object with 8 handlers following Restate best practices from CLAUDE.md: createResearch (store criteria), getCriteria (return criteria), addAd (identify domain, call appropriate scraper in ctx.run(), generate UUID with ctx.rand.uuidv4(), set status to \"to reach out\", store in ads array), getAds (return all ads), updateAdStatus (find ad, update status, save state), updateAdNotes (find ad, update notes, save state), askQuestion (use durableCalls middleware with OpenAI, include all ads with notes in context, generate UUID, store Q&A), getQuestions (return Q&A history) | Restrictions: Must use ctx.get/set for state, ctx.run for scraping (durable execution), ctx.rand.uuidv4() for IDs (deterministic), durableCalls for AI, throw TerminalError for permanent failures (invalid URL, ad not found), let other errors retry automatically, never use global state | Success: All handlers work correctly, state persists across failures, scraping is durable, AI questions include full context with notes, proper error handling with TerminalError where appropriate | Instructions: Before starting, mark this task as in-progress in tasks.md. After completion, use log-implementation tool with detailed artifacts (classes: ResearchTracker with all methods listed), then mark as complete in tasks.md_\n\n- [ ] 3.2. Register ResearchTracker in endpoint\n  - File: `restate/endpoint.ts`\n  - Import ResearchTracker Virtual Object\n  - Add to services array in createEndpointHandler\n  - Purpose: Expose ResearchTracker via Restate endpoint\n  - _Leverage: Existing endpoint.ts with agent service_\n  - _Requirements: 7 (Backend Architecture)_\n  - _Prompt: Role: Restate Developer | Task: Implement the task for spec real-estate-tracker, first run spec-workflow-guide to get the workflow guide then implement the task: Import researchTracker from restate/services/research-tracker.ts and add it to the services array in restate/endpoint.ts alongside the existing agent service | Restrictions: Do not remove existing agent service, maintain existing endpoint configuration | Success: ResearchTracker is registered and accessible via Restate endpoint, endpoint still serves existing agent service | Instructions: Before starting, mark this task as in-progress in tasks.md. After completion, use log-implementation tool with artifacts (integrations: how ResearchTracker connects to endpoint), then mark as complete in tasks.md_\n\n## Phase 4: Next.js API Routes\n\n- [ ] 4.1. Create research management API routes\n  - Files: `app/api/research/route.ts`, `app/api/research/[name]/route.ts`\n  - POST /api/research: Create research (body: name, criteria)\n  - GET /api/research/:name: Get research details (criteria only)\n  - Use `@restatedev/restate-sdk-clients` ingress client\n  - Validate research name (alphanumeric, hyphens, max 50 chars)\n  - Purpose: HTTP interface for research CRUD\n  - _Leverage: Existing Next.js 15 app directory structure, @restatedev/restate-sdk-clients package_\n  - _Requirements: 1, 7, 8 (Research Creation, Backend, Frontend)_\n  - _Prompt: Role: Full-stack Developer with expertise in Next.js 15 App Router and REST APIs | Task: Implement the task for spec real-estate-tracker, first run spec-workflow-guide to get the workflow guide then implement the task: Create Next.js API routes for research management at app/api/research/route.ts (POST handler) and app/api/research/[name]/route.ts (GET handler). Use @restatedev/restate-sdk-clients to connect to Restate (connect to http://localhost:8080 or process.env.RESTATE_URL), call researchTracker.createResearch for POST and researchTracker.getCriteria for GET. Validate research name (alphanumeric + hyphens, max 50 chars) before calling Restate. Return proper HTTP status codes (200, 201, 400, 404, 500) | Restrictions: Must use Next.js 15 App Router patterns (export async function POST/GET), validate inputs before Restate calls, handle errors gracefully with proper status codes, do not expose internal error details to client | Success: POST creates research via Restate, GET retrieves criteria, proper validation and error handling, returns JSON responses with correct status codes | Instructions: Before starting, mark this task as in-progress in tasks.md. After completion, use log-implementation tool with artifacts (apiEndpoints: both routes with full details, integrations: how routes connect to Restate), then mark as complete in tasks.md_\n\n- [ ] 4.2. Create ads management API routes\n  - Files: `app/api/ads/[researchName]/route.ts`, `app/api/ads/[researchName]/[adId]/status/route.ts`, `app/api/ads/[researchName]/[adId]/notes/route.ts`\n  - POST /api/ads/:researchName: Add ad (body: url)\n  - GET /api/ads/:researchName: List all ads\n  - PATCH /api/ads/:researchName/:adId/status: Update status (body: status)\n  - PATCH /api/ads/:researchName/:adId/notes: Update notes (body: notes)\n  - Validate URL domain (idealista.it or immobiliare.it)\n  - Validate status enum values\n  - Purpose: HTTP interface for ad operations\n  - _Leverage: @restatedev/restate-sdk-clients, restate/services/types.ts for validation_\n  - _Requirements: 2, 3, 4, 5 (Scraping, Viewing, Status, Notes)_\n  - _Prompt: Role: Full-stack Developer with expertise in Next.js APIs and validation | Task: Implement the task for spec real-estate-tracker, first run spec-workflow-guide to get the workflow guide then implement the task: Create 3 API route files: app/api/ads/[researchName]/route.ts (POST addAd, GET getAds), app/api/ads/[researchName]/[adId]/status/route.ts (PATCH updateAdStatus), app/api/ads/[researchName]/[adId]/notes/route.ts (PATCH updateAdNotes). Use Restate ingress client to call Virtual Object handlers. Validate URL domain (only idealista.it or immobiliare.it) before addAd, validate status is one of the enum values before updateAdStatus, return 400 for validation errors | Restrictions: Must validate all inputs, use proper HTTP methods and status codes, handle Restate TerminalErrors as 404/400, handle other errors as 500, do not bypass validation | Success: All CRUD operations work through API routes, proper validation prevents invalid data, error responses are clear and actionable, POST addAd triggers scraping and returns scraped ad | Instructions: Before starting, mark this task as in-progress in tasks.md. After completion, use log-implementation tool with artifacts (apiEndpoints: all 4 routes with details, integrations: route-to-Restate connections), then mark as complete in tasks.md_\n\n- [ ] 4.3. Create questions API routes\n  - Files: `app/api/questions/[researchName]/route.ts`\n  - POST /api/questions/:researchName: Ask question (body: question)\n  - GET /api/questions/:researchName: Get Q&A history\n  - Purpose: HTTP interface for AI-powered Q&A\n  - _Leverage: @restatedev/restate-sdk-clients_\n  - _Requirements: 6 (AI Analysis)_\n  - _Prompt: Role: Full-stack Developer with expertise in Next.js and AI integration | Task: Implement the task for spec real-estate-tracker, first run spec-workflow-guide to get the workflow guide then implement the task: Create API route at app/api/questions/[researchName]/route.ts with POST handler (calls researchTracker.askQuestion with question text, returns answer) and GET handler (calls researchTracker.getQuestions, returns array of Q&A history). Use Restate ingress client for both operations | Restrictions: Must validate question is non-empty string, handle errors gracefully, maintain proper HTTP semantics | Success: POST sends question to AI and returns answer, GET retrieves full Q&A history, AI context includes all ads with notes | Instructions: Before starting, mark this task as in-progress in tasks.md. After completion, use log-implementation tool with artifacts (apiEndpoints: both handlers with details, integrations: API-to-Restate flow), then mark as complete in tasks.md_\n\n## Phase 5: Frontend Implementation\n\n- [ ] 5.1. Create home page\n  - File: `app/page.tsx`\n  - Form for research creation (name input, criteria textarea, submit button)\n  - Call POST /api/research on submit\n  - Redirect to /research/[name] on success\n  - Display error message on failure\n  - Purpose: Landing page for creating new research\n  - _Leverage: Next.js 15 App Router, React Server Components and Client Components_\n  - _Requirements: 1, 8 (Research Creation, Frontend)_\n  - _Prompt: Role: Frontend Developer specializing in Next.js 15 and React | Task: Implement the task for spec real-estate-tracker, first run spec-workflow-guide to get the workflow guide then implement the task: Create app/page.tsx with a simple form for research creation. Use \"use client\" directive for interactivity. Form has: research name input (with validation feedback), criteria textarea, submit button. On submit, call POST /api/research with fetch, show loading state, handle errors with error message display, redirect to /research/[name] using next/navigation router on success. Keep styling minimal and functional | Restrictions: Must use Next.js 15 patterns (App Router), validate name client-side before submit, handle loading and error states, do not over-engineer UI, keep it simple | Success: Form creates research successfully, redirects to research page, displays clear errors, validates input, loading state prevents double-submit | Instructions: Before starting, mark this task as in-progress in tasks.md. After completion, use log-implementation tool with artifacts (components: page.tsx with purpose and location), then mark as complete in tasks.md_\n\n- [ ] 5.2. Create research page layout\n  - File: `app/research/[name]/page.tsx`\n  - Layout with: research criteria display, URL input for adding ads, ads table (with columns: title, price, location, size, status, notes, actions), Q&A sidebar\n  - Fetch data from GET /api/research/:name and GET /api/ads/:name and GET /api/questions/:name on mount\n  - Display loading state while fetching\n  - Purpose: Main UI for viewing and managing research\n  - _Leverage: Next.js 15 dynamic routes, React hooks_\n  - _Requirements: 3, 8 (Viewing, Frontend)_\n  - _Prompt: Role: Frontend Developer with expertise in Next.js and data fetching | Task: Implement the task for spec real-estate-tracker, first run spec-workflow-guide to get the workflow guide then implement the task: Create app/research/[name]/page.tsx with layout showing: criteria at top, URL input section below, ads table (use HTML table element, columns: title, price, location, size, rooms, bathrooms, renovationStatus, status, notes column with textarea, actions), Q&A sidebar on right (fixed or separate section). Use \"use client\" and useEffect to fetch from GET /api/research/[name], GET /api/ads/[name], GET /api/questions/[name] on mount. Show loading spinner while fetching. Display research name as h1 | Restrictions: Must use fetch with proper error handling, show loading states, keep UI simple (no fancy styling), use semantic HTML (table for tabular data), do not implement interactive features yet (next tasks) | Success: Page loads research data, displays ads in table format, shows Q&A history, handles loading and error states, layout is clear and functional | Instructions: Before starting, mark this task as in-progress in tasks.md. After completion, use log-implementation tool with artifacts (components: page.tsx with details), then mark as complete in tasks.md_\n\n- [ ] 5.3. Implement ad submission functionality\n  - File: `app/research/[name]/page.tsx` (modify existing)\n  - Add form submit handler for URL input\n  - Call POST /api/ads/:name with URL\n  - Show loading state during scraping\n  - Update ads table with new ad on success\n  - Display error message on failure\n  - Purpose: Allow users to add new property listings\n  - _Leverage: Existing page structure from task 5.2_\n  - _Requirements: 2, 3 (Scraping, Viewing)_\n  - _Prompt: Role: Frontend Developer with expertise in form handling and async operations | Task: Implement the task for spec real-estate-tracker, first run spec-workflow-guide to get the workflow guide then implement the task: Modify app/research/[name]/page.tsx to add URL submission functionality. Add onSubmit handler to URL input form, call POST /api/ads/[name] with URL, show loading indicator (button disabled, text \"Scraping...\"), on success append new ad to ads state array and clear input, on error show error message below form. Validate URL is not empty before submit | Restrictions: Must handle async state correctly, prevent duplicate submissions during scraping, clear form on success, show clear error messages, maintain simple UI | Success: Users can submit URLs, scraping happens with feedback, new ads appear in table immediately after scraping, errors are clearly displayed, loading state prevents issues | Instructions: Before starting, mark this task as in-progress in tasks.md. After completion, use log-implementation tool with artifacts (components: updated page.tsx with new functionality), then mark as complete in tasks.md_\n\n- [ ] 5.4. Implement status and notes update functionality\n  - File: `app/research/[name]/page.tsx` (modify existing)\n  - Add status dropdown for each ad row with onChange handler\n  - Call PATCH /api/ads/:name/:adId/status when status changes\n  - Add notes textarea for each ad with save button or auto-save on blur\n  - Call PATCH /api/ads/:name/:adId/notes when notes change\n  - Update local state on success\n  - Purpose: Allow users to update ad status and notes\n  - _Leverage: Existing page structure from task 5.2/5.3_\n  - _Requirements: 4, 5 (Status Management, Notes)_\n  - _Prompt: Role: Frontend Developer with expertise in interactive forms and state management | Task: Implement the task for spec real-estate-tracker, first run spec-workflow-guide to get the workflow guide then implement the task: Modify app/research/[name]/page.tsx to add interactive status and notes updates. For status: render select dropdown in status column with all status options, add onChange handler that calls PATCH /api/ads/[name]/[adId]/status and updates local state. For notes: render textarea in notes column with current notes value, add onBlur handler (or save button) that calls PATCH /api/ads/[name]/[adId]/notes and updates local state. Show subtle loading indicator during updates | Restrictions: Must update local state optimistically or after success, handle errors gracefully with user feedback, prevent concurrent updates to same field, keep UI simple | Success: Users can change status via dropdown and it persists, users can edit notes and they save on blur/button click, updates are reflected immediately in UI, errors are handled | Instructions: Before starting, mark this task as in-progress in tasks.md. After completion, use log-implementation tool with artifacts (components: updated page.tsx with status/notes functionality), then mark as complete in tasks.md_\n\n- [ ] 5.5. Implement Q&A functionality\n  - File: `app/research/[name]/page.tsx` (modify existing)\n  - Add question input and submit button in sidebar\n  - Call POST /api/questions/:name when question submitted\n  - Show loading state during AI processing\n  - Append Q&A to history display on success\n  - Display Q&A history in chronological order\n  - Purpose: Allow users to ask AI questions about properties\n  - _Leverage: Existing page structure from task 5.2/5.3/5.4_\n  - _Requirements: 6 (AI Analysis)_\n  - _Prompt: Role: Frontend Developer with expertise in chat interfaces and async operations | Task: Implement the task for spec real-estate-tracker, first run spec-workflow-guide to get the workflow guide then implement the task: Modify app/research/[name]/page.tsx to add Q&A functionality in sidebar section. Add textarea for question input and submit button below. On submit, call POST /api/questions/[name] with question, show loading state (\"Thinking...\", disable submit), on success append new Q&A pair to questions state array and clear input, display all Q&A pairs in chronological order (question in bold, answer below). Handle errors with error message display | Restrictions: Must validate question is non-empty, show loading state during AI processing, clear input on success, display Q&A history clearly, maintain simple styling | Success: Users can ask questions about their properties, AI answers appear promptly, Q&A history is preserved and displayed, notes context is included in AI analysis (verified by asking question about notes), loading and error states work correctly | Instructions: Before starting, mark this task as in-progress in tasks.md. After completion, use log-implementation tool with artifacts (components: updated page.tsx with Q&A functionality, integrations: complete frontend-to-backend-to-AI flow), then mark as complete in tasks.md_\n\n- [ ] 5.6. Add table filtering and sorting\n  - File: `app/research/[name]/page.tsx` (modify existing)\n  - Add status filter dropdown above table (all, to reach out, visit appointment taken, sent offer, bought, rejected)\n  - Filter ads array based on selected status\n  - Add sort functionality for key columns (price, size, status)\n  - Purpose: Help users organize and find properties\n  - _Leverage: Existing page structure and ads state_\n  - _Requirements: 3 (Viewing with filters)_\n  - _Prompt: Role: Frontend Developer with expertise in data tables and filtering | Task: Implement the task for spec real-estate-tracker, first run spec-workflow-guide to get the workflow guide then implement the task: Modify app/research/[name]/page.tsx to add filtering and sorting. Add status filter select above table with options for \"All\" and each status value. Filter displayed ads based on selection using useMemo or filter in render. Add clickable column headers for price, size, status that toggle sort order (ascending/descending). Use simple client-side sorting | Restrictions: Must maintain table performance with client-side operations, keep UI simple (no fancy libraries), preserve other functionality while adding filters, clear visual indication of active sort | Success: Users can filter ads by status and see filtered results immediately, users can sort by price/size/status with click, filtering and sorting work together correctly, UI indicates active filters/sort | Instructions: Before starting, mark this task as in-progress in tasks.md. After completion, use log-implementation tool with artifacts (components: updated page.tsx with filter/sort functionality), then mark as complete in tasks.md_\n\n## Phase 6: Testing and Polish\n\n- [ ] 6.1. Create unit tests for ResearchTracker Virtual Object\n  - File: `restate/services/__tests__/research-tracker.test.ts`\n  - Test all handlers with RestateTestEnvironment\n  - Test state management (create, get, update)\n  - Test error scenarios (invalid URLs, ad not found, duplicate research)\n  - Purpose: Ensure Virtual Object reliability\n  - _Leverage: @restatedev/restate-sdk-testcontainers, vitest or jest_\n  - _Requirements: All (testing foundation)_\n  - _Prompt: Role: QA Engineer with expertise in Restate testing and unit testing frameworks | Task: Implement the task for spec real-estate-tracker, first run spec-workflow-guide to get the workflow guide then implement the task: Create comprehensive unit tests for ResearchTracker Virtual Object using RestateTestEnvironment from @restatedev/restate-sdk-testcontainers. Test: createResearch stores criteria, getCriteria returns criteria, addAd calls scraper and stores ad, getAds returns ads array, updateAdStatus updates status, updateAdNotes updates notes, askQuestion generates answer and stores Q&A, getQuestions returns history. Test error cases: duplicate research, invalid URL domain, ad not found, empty inputs. Use vitest or jest. Mock scraper functions and OpenAI calls | Restrictions: Must use RestateTestEnvironment for test isolation, mock external dependencies (scrapers, OpenAI), test both success and failure paths, ensure tests are deterministic and independent | Success: All handlers have test coverage, error scenarios are tested, tests pass consistently, proper use of RestateTestEnvironment and state assertions | Instructions: Before starting, mark this task as in-progress in tasks.md. After completion, use log-implementation tool with artifacts (components: test file location and what it tests), then mark as complete in tasks.md_\n\n- [ ] 6.2. Add basic error handling improvements\n  - Files: Various API routes and frontend components\n  - Ensure all API routes return consistent error response format\n  - Add user-friendly error messages in frontend\n  - Add retry logic for failed requests where appropriate\n  - Purpose: Improve user experience during errors\n  - _Leverage: Existing error handling patterns_\n  - _Requirements: Non-functional requirements (reliability, usability)_\n  - _Prompt: Role: Full-stack Developer with expertise in error handling and UX | Task: Implement the task for spec real-estate-tracker, first run spec-workflow-guide to get the workflow guide then implement the task: Review and improve error handling across API routes and frontend. Ensure API routes return consistent JSON error format {error: string, details?: string}. In frontend, replace generic error displays with specific, actionable messages based on error type (network errors, validation errors, server errors). Add simple retry logic for network errors on critical operations (with exponential backoff or manual retry button) | Restrictions: Must maintain existing functionality, do not over-engineer error handling, keep user messages clear and actionable, preserve proper HTTP status codes | Success: Errors are handled consistently across the app, users see clear error messages, critical operations have retry capability, error responses follow consistent format | Instructions: Before starting, mark this task as in-progress in tasks.md. After completion, use log-implementation tool with artifacts (functions or components updated for error handling), then mark as complete in tasks.md_\n\n- [ ] 6.3. Add README and documentation\n  - Files: `README.md`, `restate/services/README.md`\n  - Document: How to run the project, environment variables needed, architecture overview, how to add new scrapers\n  - Include examples of API usage\n  - Purpose: Help developers understand and contribute to the project\n  - _Leverage: Existing documentation patterns_\n  - _Requirements: Developer experience_\n  - _Prompt: Role: Technical Writer with software development expertise | Task: Implement the task for spec real-estate-tracker, first run spec-workflow-guide to get the workflow guide then implement the task: Create or update README.md in project root with: project overview, prerequisites (Node.js version, Restate installation), setup instructions (npm install, environment variables), how to run development (Restate server + Next.js dev server), how to run tests, architecture overview (3-tier: Next.js → API Routes → Restate Virtual Objects), how scraping works. Create restate/services/README.md documenting Virtual Object structure and how to add new scrapers for additional websites. Include API endpoint examples | Restrictions: Must be clear and concise, focus on getting started quickly, include practical examples, assume reader has basic Node.js knowledge | Success: A developer can clone repo and get running by following README, architecture is clearly explained, extending the system is documented | Instructions: Before starting, mark this task as in-progress in tasks.md. After completion, use log-implementation tool with artifacts (filesCreated: README.md paths), then mark as complete in tasks.md_\n",
  "fileStats": {
    "size": 29938,
    "lines": 196,
    "lastModified": "2026-01-06T10:52:42.070Z"
  },
  "comments": []
}